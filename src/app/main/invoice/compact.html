
  <!-- <div layout="row" layout-align="center center" style="min-height:600px;" ng-show="$root.loadingProgress">
    <div flex="30">
      <md-progress-linear  id="toolbar-progress" class="md-hue-2"></md-progress-linear>
    </div>
  </div>
   -->
  
    <div >  
<!-- <div></div> -->
    <div class="content1" ng-show="vm.invoiceshow == true " style= "padding-top: 0px; background: white;">
      <!-- {{vm.invoiceshow}} -->
      <md-content class="md-padding1" style="background: white !important;" layout-xs="column" layout="column">
  <div style="
  padding: 24px 24px 24px;
">
        <div  layout="column" layout-align="center center" flex="90">
          <!-- <ng-avatar  class="md-avatar" initials="Sta"   style="display: block;
          overflow: hidden;
          border-radius: 45px;
          width: 55px;
          height: 55px;"  bg-color="#800080" 
          text-color="white" round-shape="true"> </ng-avatar> -->
          <div>
          <img 
                                 ng-src="{{vm.companylogo}}"
                                 class="avatar"
                                 alt="{{}}"/>
                                </div>

          <p layout="row" layout-align="center center" flex="90"><b>{{vm.companyname}}</b></p>
          <span><b>{{vm.companyaddress}} {{vm.companycity}}  </b></span> <br>
          <span><b>{{vm.companystate}} {{ vm.Zipcode}}</b></span>  <br>
          <span><b>Phone : {{vm.companyphone}}</b></span> 
          <md-divider ng-if="!$last"></md-divider>
          <p layout="row" layout-align="center center" flex="90"><b style="font-size: 30px;">${{vm.Balance | number:2}}</b></p>
          <span>Requested on {{vm.datetime | date}}</span> 
        </div>
          <md-divider style="margin-top: 20px;" ng-if="!$last"></md-divider>
          <md-list>
                <md-list-item class="md-3-line"  style="min-height: 50px; !important">
                  <div class="md-list-item-text">
                <span>Bill to {{vm.customername}} </span>
                  </div>
                  <!-- <md-divider md-inset="" ng-if="!$last"></md-divider> -->
                </md-list-item>
              </md-list>
    
          <md-divider ng-if="!$last"></md-divider>
          <md-list>
                <thead>
                        <!-- <th translate="INVOICE.SERVICE"></th>
                        <th translate="INVOICE.UNIT"></th> -->
                </thead>
                <md-list-item class="md-3-line" ng-repeat="item in vm.itemname" style="min-height: 50px; !important">
                  <div class="md-list-item-text">
                     <tr> 
                         <td>
                    {{item.SalesItemLineDetail.ItemRef.name}}
                </td>
              </div>
              <div style="margin-top: 15px;">
                <td  >
                     ${{item.Amount | number :2 }}
                    </td>
                  </div>
                </tr> 
                  
              
                  <!-- <md-divider md-inset="" ng-if="!$last"></md-divider> -->
                </md-list-item>
              </md-list>
              <md-divider  ng-if="!$last"></md-divider>

              <!-- for taxdetailamount -->
              <md-list ng-if = "vm.taxamount > 0" >
                  <md-list-item class="md-3-line"  style="min-height: 50px; !important">
                    <div class="md-list-item-text">
                        <tr> 
                            <td>
                      Total Tax
                   </td>
                    </div>
                    <div style="margin-top: 15px;">
                        <td  >
                             ${{vm.taxamount | number :2 }}
                            </td>
                          </div>
                        </tr>
                    <!-- <md-divider md-inset="" ng-if="!$last"></md-divider> -->
                  </md-list-item>
                </md-list>

                <!-- <md-divider ng-show="vm.taxamount > 0" ng-if="!$last"></md-divider> -->

<!-- for Discountdetailamount -->

<md-list ng-if = "vm.taxamount > 0">
    <md-list-item class="md-3-line"  style="min-height: 50px; !important">
      <div class="md-list-item-text">
          <tr> 
              <td>
        Total Tax
     </td>
      </div>
      <div style="margin-top: 15px;">
          <td  >
               ${{vm.taxamount | number :2 }}
              </td>
            </div>
          </tr>
      <!-- <md-divider md-inset="" ng-if="!$last"></md-divider> -->
    </md-list-item>
  </md-list>

              <md-divider  ng-if="!$last"></md-divider>
              <md-list>
                    <md-list-item class="md-3-line"  style="min-height: 50px; !important">
                      <div class="md-list-item-text">
                          <tr> 
                              <td>
                        Total Due
                     </td>
                      </div>
                      <div style="margin-top: 15px;">
                          <td  >
                               ${{vm.Balance | number :2 }}
                              </td>
                            </div>
                          </tr>
                      <!-- <md-divider md-inset="" ng-if="!$last"></md-divider> -->
                    </md-list-item>
                  </md-list>
          <md-divider ng-if="!$last" style="padding: 10px;"></md-divider>
         
         
     
        <md-button  id = "paycardbutton" style="width: 270px; height: 54px;" ng-disabled="vm.Balance < 0.01" type="submit" 
        style="border-radius: 2.6px; padding-top: 14px; text-decoration:none;font-size: 16px;top:0;right:5px;background-color:#08C65B; border:1px solid #08C65B;  width:99%;line-height:12px !important;"
        class="md-raised md-accent submit-button" aria-label="Check Out"
        ng-click="vm.getclick();" >
        <p style="font-size:12px; text-align: center; padding-bottom: 9px; vertical-align:middle;">Pay with Card</p>
      </md-button>
      <!-- ng-disabled="vm.Balance < 1" -->
    </div>
      </md-content>
    
    </div>










  
     <!-- checkout div show end -->
     <div class="content12"  ng-show="vm.checkoutshow == true " style= "padding-top: 0px; background: white;">
        <!-- {{vm.invoiceshow}}
        {{vm.checkoutshow}} -->
        <md-content class="md-padding1" style="background: white !important;" layout-xs="column" layout="column">
    <div style="
    padding: 24px 24px 24px;
  ">
  
          <div  layout="column" layout-align="right" flex="90">
           
  
            <div class="previouspagelink"  ng-click="vm.redirecttoback()">
              <a  class="md-default-theme">
           <img class="imgs" style="width: 25px" src="assets/icons/back_arrow.png" ng-click="" role="button">
           <span class= "backlink">View Payment Detail</span></a>
              </div>
  
                  <form style="border:none;" name="vm.checkoutForm"  id="checkoutForm" model="checkoutForm" novalidate >
                      <!-- <input type="text" placeholder="Enter your email id" style="font-size:15px;width:auto;height:22px;margin-right:5px;padding:3px 5px;border:1px solid #333;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px;color:#000;" name="email">
                       -->
                       <div>
                       <md-input-container>
                       <label class = "textfield" style="margin-bottom: -10px; font-family: roboto;">Name on Card</label><br>
                              <input type="text" ng-model="vm.form.cardholder" placeholder="Enter Cardholder name" flex ng-model=""
                              style="font-size:15px;width:310px;height:40px;margin-right:5px;
                              padding:3px 5px;border:1px solid #333;-webkit-border-radius:3px;
                              -moz-border-radius:3px;border-radius:3px;color:#000;" name="name" required/>
                              <div ng-messages="vm.checkoutForm.cardholder.$error" role="alert" multiple>
                                  <div ng-message="required" >
                                    <span>Cardholder Name is required</span>
                                  </div>
                                </div>
  
                       </md-input-container>
                      </div>
                          <div>
                            
                           <md-input-container>
             
                           <label class = "textfield" style="margin-bottom: -10px;">Card Number </label><br>
                              <input type="number" ng-model="vm.form.cardnumber" placeholder="Enter Card number"  
                              onKeyPress="if(this.value.length==16) return false;"
                              data-ng-pattern="/^[0-9]+$/" data-ng-minlength="14" maxlength="16" required 
                              style="font-size:15px;width:310px;height:40px;margin-right:5px;
                              padding:3px 5px;border:1px solid #333;-webkit-border-radius:3px;
                              -moz-border-radius:3px;border-radius:3px;color:#000; " name="email"/>
                              <div ng-messages="vm.CheckoutForm.cardnumber.$error" role="alert" multiple>
                                  <div ng-message="required" ng-show="IsSubmit">
                                    <span>Credit Card Number is required</span>
                                  </div>
                                  <div ng-message="minlength">
                                    <span>Credit Card Number must be 14-16 digits</span>
                                  </div>
                      
                                  <div ng-message="pattern">
                                    <span>Credit Card must consist of only numbers</span>
                                  </div>
                                </div>
                           </md-input-container>
                          </div>
                  
                          <div flex= "100">
                                  <md-input-container flex ="50">
                                  <label class = "textfield" style="margin-bottom: -10px;">Expiration Date </label><br>
                                     <input class = " expdate" type="text" ng-model="vm.form.datetime" placeholder="MM/YYYY"
                                     pattern="/^\(?([0-9]{2})\)?[-. ]?([0-9]{4})$/"
                                       maxlength="7"
                                       ng-keydown="myFunction($event)"
                                     data-ng-pattern="/^(((0)[0-9])|((1)[0-2]))(\/)\d{4}$/" 
                                     style="font-size:15px;width:139px;height:40px;margin-right:5px;padding:3px 5px;
                                     border:1px solid #333;-webkit-border-radius:3px;-moz-border-radius:3px;
                                     border-radius:3px;color:#000;" name="datetime" required />
          
                                     <div ng-messages="vm.CheckoutForm.datetime.$error" role="alert" multiple>
                                        <div ng-message="required" ng-show="IsSubmit">
                                          <span>Date is required</span>
                                        </div>
                                        
                            
                                        <div ng-message="pattern">
                                          <span>Date Must be valid </span>
                                        </div>
                                      </div>
  
  
                                  </md-input-container>
                                  <md-input-container flex ="50" class = "securitycode">
                                          <label class = "textfield" style="margin-bottom: -10px;">Security Code </label><br>
                                             <input class = " securitycodefield" type="number" ng-model="vm.form.cc2" placeholder="CVV" 
                                              minlength="3" onKeyPress="if(this.value.length==4) return false;"
                                             maxlength="4" ng-pattern="/^[0-9]+$/"
                                             style="font-size:15px;width:155px;height:40px;margin-right:5px;
                                             padding:3px 5px;border:1px solid #333;-webkit-border-radius:3px;
                                             -moz-border-radius:3px;border-radius:3px;color:#000;" name="email" />
                                             <div ng-messages="vm.checkoutForm.cc2.$error" role="alert" multiple>
                                              <div ng-message="vm.checkoutForm.cc2.$required" ng-show="IsSubmit">
                                                <span>Security code is required.</span>
                                              </div>
                                              <div ng-message="minlength" role="alert">
                                                <span>Security code must be of 3-4 digits.</span>
                                              </div>
                                            </div>
                                          </md-input-container>
                                 </div>
                                 <div>
                                      <md-input-container>
                                      <label class = "textfield" style="margin-bottom: -10px;">Billing Zip Code </label><br>
                                         <input type="text" ng-model="vm.Zipcode" placeholder="Enter Zipcode" 
                                         style="font-size:15px;width:310px;height:40px;margin-right:5px;padding:3px 5px;border:1px solid #333;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px;color:#000;" name="email"/>
                                      </md-input-container>
                                      
                                     </div>
                                     <div>
                                       
                                          <md-input-container>
                                              <md-checkbox name="terms" ng-model="vm.form.emailreceipt" aria-label="Email Receipt" ></md-checkbox>
                                          <label class = "textfield" style="margin-bottom: -22px;
                                          margin-left: 25px;">Email Receipt </label><br>
                                             <input type="text" ng-model="vm.email" placeholder="Enter Email address" 
                                             style="font-size:15px;width:310px;height:40px;margin-right:5px;padding:3px 5px;border:1px solid #333;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px;color:#000;" name="email"/>
                                          </md-input-container>
                                          
                                         </div>
  
                   <!-- {{vm.checkoutForm.$invalid}} -->
  
  
              
                      <md-button  id="button1" style="width: 310px; height: 54px; right: 5px;"   type="submit" class="md-raised md-accent submit-button" aria-label="Check Out"
                      ng-click="submit();" ng-disabled="vm.checkoutForm.$invalid">
                      <p style="font-size:12px; text-align: center; padding-bottom: 9px; vertical-align:middle;">Pay With Card</p>
                    </md-button>
                  </form>
        
       
      </div>  </div>
        </md-content>
      </div>
      </div>
  
<!-- start payment processing div show -->
<div class="content13" ng-show="vm.paymentprocessshow == true " style= "padding-top: 0px; background: white;">
    <!-- {{vm.paymentprocessshow == true}} -->
    <md-content class="md-padding1" style="background: white !important;" layout-xs="column" layout="column">
<div style="
padding: 24px 24px 24px;
">
      <div  layout="column" layout-align="center center" flex="90">
        <!-- <ng-avatar  class="md-avatar" initials="Sta"   style="display: block;
        overflow: hidden;
        border-radius: 45px;
        width: 55px;
        height: 55px;"  bg-color="#800080" 
        text-color="white" round-shape="true"> </ng-avatar> -->
        <img 
                               ng-src="{{vm.companylogo}}"
                               class="avatar"
                               alt="{{}}"/>

        <p layout="row" layout-align="center center" flex="90"><b>{{vm.companyname}}</b></p>
        <span><b>{{vm.companyaddress}} {{vm.companycity}}</b></span><br>
        <span><b>{{vm.companystate}} {{ vm.Zipcode}}</b></span> <br>
        <span><b>Phone : {{vm.companyphone}}</b></span> 
        <md-divider ng-if="!$last"></md-divider>
        
       <md-progress-circular id="toolbar-progress" style="margin: 35px;" ng-show="vm.paymentprocessshow == true"  class="md-accent" md-diameter="32"> 
        
          </md-progress-circular>
        <div ng-show="vm.paymentprocessshow == true">Payment Processing</div>
      </div>
    </div>  
      </md-content>
    </div>

<!-- end payment processing div show -->


<!-- for success payment transaction -->
<div class="content14" ng-show="vm.paymentprocesssuccess == true " style= "padding-top: 0px; background: white;">
    <md-content class="md-padding1" style="background: white !important;" layout-xs="column" layout="column">
<div style="
padding: 24px 24px 24px;
">
      <div  layout="column" layout-align="center center" flex="90">
        <!-- <ng-avatar  class="md-avatar" initials="Sta"   style="display: block;
        overflow: hidden;
        border-radius: 45px;
        width: 55px;
        height: 55px;"  bg-color="#800080" 
        text-color="white" round-shape="true"> </ng-avatar> -->
        <img 
                               ng-src="{{vm.companylogo}}"
                               class="avatar"
                               alt="{{}}"/>

        <p layout="row" layout-align="center center" flex="90"><b>{{vm.companyname}}</b></p>
        <span><b>{{vm.companyaddress}} {{vm.companycity}}</b></span> <br>
        <span><b>{{vm.companystate}} {{ vm.Zipcode}}</b></span> <br>
        <span><b>Phone : {{vm.companyphone}}</b></span> 
        <md-divider ng-if="!$last"></md-divider>

        
          <img  class="image-circle" style="width: 35px;margin-top: 20px;" src="assets/icons/tick-circle.png" ng-click="" role="button">
       
        <div layout="row" layout-align="center center" class = " successmessage" style="text-align: center;
        padding: 15px;"
         ng-show="vm.paymentprocesssuccess == true">{{vm.paymentmessage}}</div>
        <div ng-show="vm.paymentprocesssuccess == true" style="text-align: center;"> Invoice # {{vm.docId}}</div>
        <div style="margin: 19px;" ng-show="vm.paymentprocesssuccess == true">Total Payment
        <span style="padding-left: 25px;">  ${{vm.Balance | number : 2}}</span>
        </div>
        <div ng-show="vm.paymentprocesssuccess == true" style="text-align: center;">You will receive a text receipt shortly</div>
      </div>
    </div>  
      </md-content>
    </div>





    <div class="content15" ng-show="vm.paymentprosuccess == true " style= "padding-top: 0px; background: white;">
        <md-content class="md-padding1" style="background: white !important;" layout-xs="column" layout="column">
    <div style="
    padding: 24px 24px 24px;
    ">
          <div  layout="column" layout-align="center center" flex="90">
          
            <img 
                                   ng-src="{{vm.companylogo}}"
                                   class="avatar"
                                   alt="{{}}"/>
    
            <p layout="row" layout-align="center center" flex="90"><b>{{vm.companyname}}</b></p>
            <span><b>{{vm.companyaddress}} {{vm.companycity}}</b></span> <br>
            <span><b>{{vm.companystate}} {{ vm.Zipcode}}</b></span> <br>
            <span><b>Phone : {{vm.companyphone}}</b></span> 
            <md-divider ng-if="!$last"></md-divider>
    
            
         
           
            <div layout="row" layout-align="center center" class = " unsuccessmessage" style="text-align: center;
            padding: 15px;"
             ng-show="vm.paymentprocessunsuccess == true">{{vm.unsuccmessage}}</div>
           
           
    
          </div>
        </div>  
          </md-content>
        </div>





  </div>

  <style>
md-input-container{
  font-weight: 700;
}

div p label {
  font-family: roboto;
  
}
span{
  font-family: roboto;
}
.textfield{
  font-family: roboto;
}
    
.flex-50{
  max-width: 49%;
}


@media only screen and (min-device-width : 360px) and (max-device-width : 640px) {
  #paycardbutton{ 
  width : 300px !important;
}
} 


@media only screen and (min-device-width : 375px) and (max-device-width : 812px) {
  #paycardbutton{ 
  width : 315px !important;
}
md-input-container {
    margin: 12px 0 !important;

}
} 
@media only screen and (min-device-width : 414px) and (max-device-width : 736px) {
.securitycode{
  margin-bottom: -6px !important;
}
#paycardbutton{ 
  width : 350px !important;
}
md-input-container {
    margin: 18px 0 !important;

}
}
@media only screen and (min-device-width : 375px) and (max-device-width : 667px) {
  #paycardbutton{ 
  width : 330px ;
}
} 
 /* @media only screen and (min-device-width : 320px) and (max-device-width : 568px) {
 .expdate {
    width : 118px !important;

} 
 }  */

      #vertical-navigation{
          display: none;
      }
      #navigation-toggle{
          display: none;
      }
      #icon-star-mobile{
        display: none;
      }
      #content{
        z-index: 1000;
      }
      #toolbar{
        height: 70px;
    min-height: 64px;
    max-height: 130px;
    z-index: 55 !important;
      }
      #layout-vertical-navigation #content-container #content{
        background: white;
      }
      .avatar{
        height: 110px;
        width: 110px;
      }

/* label{
font: roboto;
} */

input::-webkit-outer-spin-button,
input::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}
/* .md-button.md-tealTheme-theme.md-accent.md-raised, .md-button.md-tealTheme-theme.md-accent.md-fab {
    color: rgb(255,255,255);
    background-color: rgb(3,155,229);
} */

         .imgs{
        width: 25px;
    margin-top: 0px;
    margin-bottom: -20px;
      }
      .backlink{
        margin-left: 30px;
      }
      .previouspagelink{
        margin-bottom: 30px;
      }
      #user-menu{
        display:none;
      }
  </style>