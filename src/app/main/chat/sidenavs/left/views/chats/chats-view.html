
<head>
        <script data-require="angularjs@1.5.5" data-semver="1.5.5" src="https://code.angularjs.org/1.5.5/angular.js"></script>
        <script src="https://npmcdn.com/angular-avatar/dist/angular-avatar.min.js"></script>
</head>
<!-- CHATS TOOLBAR -->
<style>
#avatarimage{
    cursor: default;
}
</style>
<md-toolbar class="md-tall">

    <!-- TOOLBAR TOP -->
    <div class="md-toolbar-tools md-toolbar-tools-top">

        <!-- USER AVATAR WRAPPER -->
        <div class="avatar-wrapper" id="avatarimage">

            <!-- USER AVATAR -->
            <!-- ng-click="vm.toggleLeftSidenavView('user')" -->
            <!-- <img  ng-src="{{vm.user.avatar}}" class="md-avatar avatar" id="avatarimage"
                 alt="{{vm.user.name}}"/> -->
            <!-- / USER AVATAR -->

            <!-- USER STATUS -->
            <!-- <md-menu id="user-status-menu" id="avatarimage">

                <i id="avatarimage" ng-click="" class="icon icon- s16 status" ng-class="vm.user.status"></i>

                <md-menu-content >

                    <md-menu-item >
                        <md-button ng-click="vm.setUserStatus('online')">
                            <div layout="row" layout-align="start center">
                                <i class="icon s16 status icon-checkbox-marked-circle mr-8 green-fg"></i>
                                <span translate="CHAT.STATUS_ONLINE">Online</span>
                            </div>
                        </md-button>
                    </md-menu-item>

                    <md-menu-item>
                        <md-button ng-click="vm.setUserStatus('away')">
                            <div layout="row" layout-align="start center">
                                <i class="icon s16 status icon-clock mr-8 yellow-fg"></i>
                                <span translate="CHAT.STATUS_AWAY">Away</span>
                            </div>
                        </md-button>
                    </md-menu-item>

                    <md-menu-item>
                        <md-button ng-click="vm.setUserStatus('do-not-disturb')">
                            <div layout="row" layout-align="start center">
                                <i class="icon s16 status icon-minus-circle mr-8 red-fg"></i>
                                <span translate="CHAT.STATUS_DO_NOT_DISTURB">Do not disturb</span>
                            </div>
                        </md-button>
                    </md-menu-item>

                    <md-menu-item>
                        <md-button ng-click="vm.setUserStatus('offline')">
                            <div layout="row" layout-align="start center">
                                <i class="icon s16 status icon-checkbox-blank-circle-outline mr-8 green-fg"></i>
                                <span translate="CHAT.STATUS_OFFLINE">Offline</span>
                            </div>
                        </md-button>
                    </md-menu-item>

                </md-menu-content>

            </md-menu> -->
            <!-- / USER STATUS -->

        </div>
        <!-- / USER AVATAR -->

        <!-- <md-menu md-position-mode="target-right target">

            <md-button class="md-icon-button" ng-click="$mdOpenMenu()"
                       aria-label="more">
                <md-icon md-font-icon="icon-dots-vertical"></md-icon>
            </md-button>

            <md-menu-content width="3">
                <md-menu-item>
                    <md-button ng-click="vm.toggleLeftSidenavView('user')" translate="CHAT.PROFILE">
                        Profile
                    </md-button>
                </md-menu-item>
                <md-menu-item>
                    <md-button ng-click="" translate="CHAT.LOGOUT">
                        Logout
                    </md-button>
                </md-menu-item>
            </md-menu-content>

        </md-menu> -->

    </div>
    <!-- / TOOLBAR TOP -->

    <!-- TOOLBAR BOTTOM -->
    <div class="md-toolbar-tools md-toolbar-tools-bottom">

        <!-- SEARCH -->
        <div class="search-wrapper md-whiteframe-1dp" layout="row" layout-align="start center" flex>

            <div class="search" flex layout="row" layout-align="start center">

                <md-icon md-font-icon="icon-magnify" class="icon s18">
                </md-icon>

                <input flex ng-model="vm.chatSearch" type="text" placeholder="Search or start new chat" translate=""
                       translate-attr-placeholder="CHAT.CHAT_SEARCH_PLACEHOLDER">

            </div>
        </div>
        <!-- / SEARCH -->

    </div>
    <!-- / TOOLBAR BOTTOM -->

</md-toolbar>
<!-- / CHATS TOOLBAR -->

<!-- CHATS CONTENT -->
<md-content  flex ms-scroll>
    <!-- <md-content class="messages"  > -->
        <!-- <input type="text" id="myInput"  placeholder="Search or start new chat" ng-model="searchText" title="Type in a name"> -->
    <!-- CHATS LIST-->
    <md-list class="inbox-list">
        <md-divider></md-divider>
        <!-- <div ng-show="vm.chatSearch && filteredChat.length > 0" class="md-accent-fg subheader"
             ng-style="{'transform':'translate3d(0px, 0px, 0px)', 'z-index': filteredChat.length + filteredContact.length }"
             translate="CHAT.CHATS">
            CHATS
        </div> -->

        <md-list-item class="inbox-list__email inbox-list__email--animated md-3-line md-long-text" 
         id="messageClicked" ng-repeat="item in vm.chatscustomerlist | filter:vm.chatSearch " 
        ng-class="{ 'inbox-list__email--active': vm.selectedMail === item.id, 'inbox-list__email--unread': item.unread }" 
        style="border-bottom: 1px solid darkgray;"
        ng-click=" vm.getchatinvoicelisting(item, $index); vm.toggleSidenav('right-sidenav');  ">
   
        <!-- <div class="avatar-wrapper">
                <ng-avatar initials="AJS" bg-color="cyan" text-color="blue" round-shape="true" ></ng-avatar>
            <!-- <ng-avatar class="md-avatar" initials="{{item.DisplayName | limitTo : 2}}"  bg-color="#493877"
                 text-color="blue" round-shape="true"></ng-avatar> -->
            <!-- <i class="icon icon- s16 status" ng-class="contact.status"></i> -->
        <!-- </div>  -->
        <!-- <img ng-src="{{item.DisplayName | limitTo : 2}}" class="md-avatar"  />  -->
        <!-- {{vm.chatsmessage[i].color}} -->
        <ng-avatar class="md-avatar" style="margin-bottom: 12px; margin-left: 10px; z-index: 99; text-transform:capitalize;"  
        initials="{{item.DisplayName | limitTo : 2}}" bg-color="{{item.color}}"
        text-color="white" round-shape="true"> </ng-avatar> 

        <!-- <div class="avatar-wrapper">
                <ng-avatar initials="AJSsa" class="md-avatar " ></ng-avatar>
                <!-- <i class="icon icon- s16 status" ng-class="contact.status"></i> </div> -->
         

        <div class="md-list-item-text">
            <h3 class="name" style=" text-transform:capitalize;">{{item.DisplayName  }}</h3>
            <h4 class="last-message"><b>Open Balance : </b>${{item.Balance | number:2}}</h4>
        </div>
        <!-- <div layout="column" layout-align="center end">
            <div class="last-message-time">{{contact.lastMessage.time | altDate}}</div>
            <div ng-if="contact.unread" class="md-accent-bg unread-message-count">{{contact.unread}}</div>
        </div> -->


        </md-list-item>
    </md-list>

</md-content>
    <!-- / CHATS LIST-->

    <!-- CONTACTS LIST-->
    <md-list class="contact-list">

        <div ng-show="vm.chatSearch && filteredContact.length > 0" class="md-accent-fg subheader"
             ng-style="{'transform': (filteredContact.length > 0 && filteredChat.length > 0 ) ? 'translate3d(0px, '+(filteredChat.length +1) * 100+'%, 0px)':'translate3d(0px, 0px, 0px)', 'z-index': filteredContact.length}"
             translate="CHAT.CONTACTS">
            CONTACTS
        </div>

        <md-list-item class="contact md-3-line"
                      ng-show="vm.chatSearch"
                      ng-style="{'transform': (filteredContact.length > 0 && filteredChat.length > 0 ) ?'translate3d(0px, '+(filteredChat.length + $index +2)* 100+'%, 0px)': 'translate3d(0px, '+ ($index + 1)* 100+'%, 0px)', 'z-index': filteredContact.length - $index}"
                      ng-repeat="contact in vm.chatsmessage  "
                      ng-click="vm.getChat(contact.id)">

            <div class="avatar-wrapper">
                <img ng-src="{{contact.avatar}}" class="md-avatar avatar" alt="{{contact.name}}"/>
                <i class="icon icon- s16 status" ng-class="contact.status"></i>
            </div>

            <div class="md-list-item-text">
                <h3>{{contact.DisplayName}}</h3>
                <p class="mood">{{contact.Balance}}</p>
            </div>

             <md-divider></md-divider>

        </md-list-item> 
     </md-list> 


    
    <!-- / CONTACTS LIST-->

    <!-- NO RESULTS MESSAGE -->
    <!-- <div ng-hide="(filteredChat.length + filteredContact.length) > 0" class="no-results-message"
         translate="CHAT.NO_RESULTS">
        No results..
    </div> -->
    <!-- NO RESULTS MESSAGE-->


<!-- / CHATS CONTENT -->

<!-- CONTACTS BUTTON -->
</md-content>
<!-- <md-button class="md-fab contacts-button" ng-click="vm.toggleLeftSidenavView('contacts')" aria-label="contacts button">
    <md-icon md-font-icon="icon-plus"></md-icon>
</md-button> -->
<!-- / CONTACTS BUTTON -->